# IntelliFlow CRM - Development Environment Configuration
# This file contains sensible defaults for local development
# Copy to .env for your local setup and modify as needed

# ==============================================================================
# ENVIRONMENT
# ==============================================================================
NODE_ENV=development
ENVIRONMENT=local
DEBUG=true
LOG_LEVEL=debug

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# Local PostgreSQL (via Docker)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/intelliflow_dev?schema=public
DIRECT_URL=postgresql://postgres:postgres@localhost:5432/intelliflow_dev?schema=public
DATABASE_POOL_SIZE=10
DATABASE_SSL_MODE=prefer

# Supabase (optional - for testing Supabase features)
SUPABASE_URL=http://localhost:54321
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU
SUPABASE_JWT_SECRET=super-secret-jwt-token-with-at-least-32-characters-long

# Redis (via Docker)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_TLS_ENABLED=false

# ==============================================================================
# AI / LLM CONFIGURATION
# ==============================================================================
# Use Ollama for local development (free, no API key needed)
AI_PROVIDER=ollama
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2
OLLAMA_EMBEDDING_MODEL=nomic-embed-text

# OpenAI (optional - uncomment to use OpenAI instead)
# AI_PROVIDER=openai
# OPENAI_API_KEY=sk-your-key-here
# OPENAI_ORGANIZATION=
# OPENAI_MODEL=gpt-4-turbo-preview
# OPENAI_EMBEDDING_MODEL=text-embedding-3-small
# OPENAI_MAX_TOKENS=4096
# OPENAI_TEMPERATURE=0.7

# LangChain (optional - for debugging)
LANGCHAIN_TRACING_V2=false
LANGCHAIN_PROJECT=intelliflow-crm-dev
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
# LANGCHAIN_API_KEY=

# ==============================================================================
# AUTHENTICATION & AUTHORIZATION
# ==============================================================================
# NextAuth.js
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=dev-secret-change-in-production-min-32-chars

# JWT
JWT_SECRET=dev-jwt-secret-change-in-production
JWT_EXPIRATION=7d
JWT_REFRESH_EXPIRATION=30d

# OAuth (optional - for testing social login)
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=
# GITHUB_CLIENT_ID=
# GITHUB_CLIENT_SECRET=

# ==============================================================================
# API CONFIGURATION
# ==============================================================================
# tRPC API server
API_PORT=3001
API_HOST=localhost
API_CORS_ORIGIN=http://localhost:3000

# Rate limiting (more lenient for dev)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# ==============================================================================
# FRONTEND CONFIGURATION
# ==============================================================================
# Next.js web application
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ==============================================================================
# OBSERVABILITY & MONITORING
# ==============================================================================
# Sentry (disabled by default in dev)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0
SENTRY_DEBUG=false

# OpenTelemetry (optional)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=intelliflow-crm-dev
OTEL_TRACES_SAMPLER=always_on
OTEL_TRACES_SAMPLER_ARG=1.0

# Prometheus (via Docker)
PROMETHEUS_PORT=9090

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
# Enable features for development
FEATURE_AI_SCORING_ENABLED=true
FEATURE_EMAIL_AUTOMATION_ENABLED=true
FEATURE_ANALYTICS_ENABLED=true
FEATURE_EXPERIMENTAL_UI=true

# ==============================================================================
# EXTERNAL INTEGRATIONS
# ==============================================================================
# Email (use console logging in dev)
EMAIL_PROVIDER=console
EMAIL_FROM_ADDRESS=dev@intelliflow.local
EMAIL_FROM_NAME=IntelliFlow CRM (Dev)

# SMS (disabled in dev)
# TWILIO_ACCOUNT_SID=
# TWILIO_AUTH_TOKEN=
# TWILIO_PHONE_NUMBER=

# File storage (local filesystem)
STORAGE_PROVIDER=local
STORAGE_LOCAL_PATH=./uploads

# ==============================================================================
# SECURITY SETTINGS
# ==============================================================================
# Encryption (dev keys - DO NOT use in production)
ENCRYPTION_KEY=dev-encryption-key-32-characters-long-change-me
ENCRYPTION_ALGORITHM=aes-256-gcm

# CORS (permissive for dev)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# Cookie settings
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax
COOKIE_DOMAIN=localhost

# ==============================================================================
# PERFORMANCE TUNING
# ==============================================================================
# Connection pooling (smaller pools for dev)
DATABASE_MIN_POOL_SIZE=2
DATABASE_MAX_POOL_SIZE=10
DATABASE_IDLE_TIMEOUT=30000

# Caching
CACHE_TTL=300
CACHE_MAX_SIZE=50

# AI request timeouts
AI_REQUEST_TIMEOUT=60000
AI_MAX_RETRIES=3
AI_RETRY_DELAY=2000

# ==============================================================================
# DEVELOPMENT TOOLS
# ==============================================================================
# Hot reload settings
WATCHPACK_POLLING=false
CHOKIDAR_USEPOLLING=false

# TypeScript
TS_NODE_TRANSPILE_ONLY=true

# Docker Compose services
COMPOSE_PROJECT_NAME=intelliflow-dev
