# Task Execution Prompt

Implement the selected task(s) with TDD, brand/page/sitemap, and flow context.
### Key Objectives
- Code: Deliver high-quality, tested code for the web app
- Integration: Seamlessly integrate new features into existing architecture
- Security: Ensure robust security and compliance
- Performance: Optimize for speed and responsiveness
- Aviability: Ensure high availability and reliability
- Maintainability: Write clean, maintainable code
- Documentation: Provide clear documentation and specs

## PG-010 – Blog Post

**Sprint:** 12
**Section:** Public Pages
**Owner:** Growth FE (STOA-Foundation)
**Status:** Backlog

You must adhere to the following guidelines while implementing this task: .specify/memory/constitution.md

### Dependencies
- PG-009
- GTM-002
- BRAND-001

Dependency Status:
- PG-009 (BACKLOG)
- GTM-002 (DONE)
- BRAND-001 (DONE)

### Pre-requisites
FILE:docs/design/page-registry.md;FILE:artifacts/sprint0/codex-run/Framework.md;FILE:audit-matrix.yml;ENV:Post template ready;ENV:markdown support;FILE:apps/web/app/(public)/blog/page.tsx;FILE:docs/company/messaging/positioning.md;FILE:docs/company/brand/visual-identity.md;FILE:docs/company/brand/style-guide.md;FILE:docs/company/brand/dos-and-donts.md;FILE:docs/company/brand/accessibility-patterns.md

### Definition of Done
1. Response <200ms, Lighthouse ≥90, comments enabled
2. artifacts: page.tsx, markdown-renderer.tsx, comments-widget.tsx

### Artifacts to Track
- ARTIFACT:apps/web/app/(public)/blog/[slug]/page.tsx
- ARTIFACT:apps/web/components/blog/markdown-renderer.tsx
- ARTIFACT:apps/web/components/blog/comments-widget.tsx
- EVIDENCE:artifacts/attestations/PG-010/context_ack.json

### Validation
AUDIT:manual-review;GATE:lighthouse-gte-90

### Brand / UX / Flows References
- Brand: docs/company/brand/style-guide.md
- Page Registry: docs/design/page-registry.md
- Sitemap: docs/design/sitemap.md
- Check the relevant Flows: apps/project-tracker/docs/metrics/_global/flows/

### Context Controls
- Build context pack and context ack before coding.
- Evidence folder: artifacts/attestations/<task_id>/
- Use spec/plan if present under .specify/.

---

## PG-012 – Career Detail

**Sprint:** 12
**Section:** Public Pages
**Owner:** Growth FE (STOA-Foundation)
**Status:** Backlog

You must adhere to the following guidelines while implementing this task: .specify/memory/constitution.md

### Dependencies
- PG-011
- GTM-002
- BRAND-001

Dependency Status:
- PG-011 (BACKLOG)
- GTM-002 (DONE)
- BRAND-001 (DONE)

### Pre-requisites
FILE:docs/design/page-registry.md;FILE:artifacts/sprint0/codex-run/Framework.md;FILE:audit-matrix.yml;ENV:Job description template;POLICY:requirements clear;FILE:apps/web/app/(public)/careers/page.tsx;FILE:docs/company/messaging/positioning.md;FILE:docs/company/brand/visual-identity.md;FILE:docs/company/brand/style-guide.md;FILE:docs/company/brand/dos-and-donts.md;FILE:docs/company/brand/accessibility-patterns.md

### Definition of Done
1. Response <200ms, Lighthouse ≥90, apply button working
2. artifacts: page.tsx, job-detail-template.tsx, apply-button.tsx

### Artifacts to Track
- ARTIFACT:apps/web/app/(public)/careers/[id]/page.tsx
- ARTIFACT:apps/web/components/shared/job-detail-template.tsx
- ARTIFACT:apps/web/components/shared/apply-button.tsx
- EVIDENCE:artifacts/attestations/PG-012/context_ack.json

### Validation
AUDIT:manual-review;GATE:lighthouse-gte-90

### Brand / UX / Flows References
- Brand: docs/company/brand/style-guide.md
- Page Registry: docs/design/page-registry.md
- Sitemap: docs/design/sitemap.md
- Check the relevant Flows: apps/project-tracker/docs/metrics/_global/flows/

### Context Controls
- Build context pack and context ack before coding.
- Evidence folder: artifacts/attestations/<task_id>/
- Use spec/plan if present under .specify/.

---

## IFC-148 – Implement conversation record entity: store chat transcripts; tool calls; actions per case; enable search and retrieval; integrate audit logging and data retention policies

**Sprint:** 12
**Section:** AI Assistant
**Owner:** Backend Dev + AI Specialist (STOA-Intelligence)
**Status:** Backlog

You must adhere to the following guidelines while implementing this task: .specify/memory/constitution.md

### Dependencies
- IFC-139
- IFC-126

Dependency Status:
- IFC-139 (DONE)
- IFC-126 (BACKLOG)

### Pre-requisites
FILE:artifacts/sprint0/codex-run/Framework.md;FILE:audit-matrix.yml;ENV:Agent tool-calling infrastructure; ADR registry;FILE:docs/planning/adr/ADR-006-agent-tools.md;FILE:docs/planning/adr/ADR-007-data-governance.md;FILE:docs/planning/adr/ADR-008-audit-logging.md;FILE:docs/planning/DDD-context-map.puml;FILE:packages/db/prisma/schema.prisma;FILE:docs/operations/quality-gates.md;FILE:artifacts/misc/logs/agent-actions.log;FILE:docs/dev-guide.md

### Definition of Done
1. Database schema created
2. conversation records stored with metadata (case ID
3. timestamps
4. user/agent ID
5. tool calls)
6. search API implemented
7. access control enforced
8. retention and DSAR compliance built-in
9. tests covering privacy controls
10. targets: >=100%

### Artifacts to Track
- ARTIFACT:packages/db/prisma/conversation.sql
- ARTIFACT:apps/api/src/modules/conversation.ts
- ARTIFACT:artifacts/misc/search/conversation-index.ts
- ARTIFACT:artifacts/misc/data-retention-config.yaml
- EVIDENCE:artifacts/attestations/IFC-148/context_ack.json

### Validation
VALIDATE:pnpm test;VALIDATE:pnpm test:integration

### Brand / UX / Flows References
- Brand: docs/company/brand/style-guide.md
- Page Registry: docs/design/page-registry.md
- Sitemap: docs/design/sitemap.md
- Check the relevant Flows: apps/project-tracker/docs/metrics/_global/flows/

### Context Controls
- Build context pack and context ack before coding.
- Evidence folder: artifacts/attestations/<task_id>/
- Use spec/plan if present under .specify/.

---

## IFC-155 – Permissioned indexing for case documents and notes: full-text + embeddings with tenant/case ACL filters

**Sprint:** 12
**Section:** Search/AI
**Owner:** Backend Dev + AI Specialist (STOA-Intelligence)
**Status:** Backlog

You must adhere to the following guidelines while implementing this task: .specify/memory/constitution.md

### Dependencies
- IFC-154
- IFC-127
- ENV-004-AI

Dependency Status:
- IFC-154 (BACKLOG)
- IFC-127 (DONE)
- ENV-004-AI (DONE)

### Pre-requisites
FILE:artifacts/sprint0/codex-run/Framework.md;FILE:audit-matrix.yml;ENV:pgvector enabled; ACL model implemented; extracted text available;FILE:docs/planning/adr/ADR-004-multi-tenancy.md;FILE:artifacts/benchmarks/ocr-quality-benchmarks.csv;FILE:infra/supabase/rls-policies.sql;FILE:supabase/config.toml

### Definition of Done
1. FTS index and vector embeddings built
2. retrieval APIs enforce tenant/case ACL
3. re-index job
4. purge on DSAR rules
5. tests
6. targets: >=80%, <200ms, zero errors
7. gates: latency-check

### Artifacts to Track
- ARTIFACT:packages/search/retrieval.ts
- ARTIFACT:artifacts/misc/relevance-eval.json
- EVIDENCE:artifacts/attestations/IFC-155/context_ack.json

### Validation
VALIDATE:pnpm test;GATE:latency-check

### Brand / UX / Flows References
- Brand: docs/company/brand/style-guide.md
- Page Registry: docs/design/page-registry.md
- Sitemap: docs/design/sitemap.md
- Check the relevant Flows: apps/project-tracker/docs/metrics/_global/flows/

### Context Controls
- Build context pack and context ack before coding.
- Evidence folder: artifacts/attestations/<task_id>/
- Use spec/plan if present under .specify/.

---

## Delivery Checklist
- Follow TDD: write/extend tests before implementation.
- Respect Definition of Done and produce required artifacts.
- Run lint/typecheck/test/build/security scans.
- Attach evidence (context_pack, context_ack, summaries).