{
  "task_id": "IFC-058",
  "task_name": "GDPR baseline controls: Supabase RLS policies, data minimisation, retention hooks",
  "sprint": 11,
  "section": "Compliance",
  "owner": "DPO + Legal (STOA-Foundation)",
  "acknowledged_at": "2025-12-29T23:43:00Z",
  "prerequisites_verified": {
    "constitution": {
      "file": ".specify/memory/constitution.md",
      "verified": true,
      "key_requirements": [
        "Hexagonal architecture with domain layer isolation",
        "Type safety end-to-end with Zod validation",
        "Repository pattern for data access",
        "Security rules: RLS enabled, no secrets in code, input validation"
      ]
    },
    "dependencies": {
      "IFC-017": {
        "status": "DONE",
        "description": "Audit logging foundation implemented"
      },
      "IFC-127": {
        "status": "DONE",
        "description": "Compliance infrastructure ready"
      },
      "IFC-008": {
        "status": "DONE",
        "description": "Data flows mapped"
      }
    },
    "files_read": [
      "audit-matrix.yml",
      "docs/planning/adr/ADR-007-data-governance.md",
      "docs/security/zero-trust-design.md",
      "packages/db/prisma/schema.prisma",
      "infra/supabase/rls-policies.sql"
    ],
    "policies": [
      "RLS policies defined in infra/supabase/rls-policies.sql",
      "Data flows mapped in ADR-007",
      "Data classification tiers: PUBLIC, INTERNAL, CONFIDENTIAL, PRIVILEGED",
      "Retention policies: 7yr/3yr/10yr/permanent based on classification"
    ]
  },
  "implementation_approach": {
    "phase_1": "Extend RLS policies for GDPR-specific data protection",
    "phase_2": "Add data minimization constraints to schema",
    "phase_3": "Implement retention hooks and scheduled cleanup jobs",
    "phase_4": "Create GDPR compliance checklist and audit trail tests",
    "testing_strategy": "Manual review + security review as specified"
  },
  "artifacts_to_create": [
    "artifacts/reports/gdpr-compliance-checklist.xlsx",
    "artifacts/misc/audit-trail-test.json",
    "artifacts/attestations/IFC-058/context_ack.json"
  ]
}
